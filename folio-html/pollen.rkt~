#lang racket/base
(require racket/list racket/string racket/match)
(require pollen/decode pollen/tag pollen/file)

(define exclusion-mark-attr '(decode "exclude"))
(define (root . elems)
	(decode `(decoded-root ,@elems)
          #:txexpr-elements-proc detect-paragraphs 
          #:string-proc (compose1 smart-quotes smart-dashes)
          #:exclude-tags '(style script pre)
          #:exclude-attrs (list exclusion-mark-attr)))

;----------------------------------------------------------
; tag functions

(define (title . elems)
  `('h1 ,@elems))

(define (section . elems)
  `('h2 ,@elems))

(define (bold . elems)
	`('h3 ,@elems))

(define (strong . elems)
	`('bold ,@elems))

(define (code . elems)
  `(span [[class "code"]] ,@elems))

(define (codeblock . elems)
  `(pre [[class "code"]] ,@elems))

(define (uc . elems)
	`(em ,@elems))
